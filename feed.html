<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PianoMitra - Community Feed</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="feed.css">
    
    <style>
        /* Fallback Spinner Styles */
        .loader-spinner {
            width: 30px; height: 30px; margin: 20px auto;
            border: 3px solid rgba(100,100,100,0.2);
            border-top-color: var(--primary-color, #ff3366);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }
        .loader-spinner.active { display: block; }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .empty-state {
            text-align: center; color: #888; padding: 40px 20px;
            background: rgba(255,255,255,0.05); border-radius: 12px;
            margin: 20px; border: 1px dashed #555;
        }
    </style>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
    <div class="app-container">
        
        <header class="top-bar">
            <h1 style="font-size: 1.5em; margin: 0;">PianoMitra ğŸ¹</h1>
            <a href="notification.html" id="notifications-btn" style="background: none; border: none; margin-left: auto; text-decoration: none;">
                <div class="nav-icon-container" style="position: relative;">
                    <span style="font-size: 1.5em;" class="nav-icon">ğŸ””</span>
                    <div id="notify-dot" class="notification-dot"></div>
                </div>
            </a>
        </header>

        <main class="feed-section" id="feed-main">
            <div id="pull-to-refresh" style="height:0; overflow:hidden; text-align:center;"><div class="spinner-icon">â†»</div></div>
            
            <h2 style="padding: 15px 15px 5px 15px; font-size: 1.2em; color: #888; border-bottom: 1px solid rgba(128,128,128,0.1);">Community Posts</h2>
            
            <div id="posts-feed">
                <div class="loader-spinner active"></div>
            </div>
            
            <div id="scroll-trigger" style="height: 50px;"></div>
        </main>

        <nav class="bottom-nav">
            <a href="feed.html" class="nav-item active"><span class="nav-icon">ğŸ </span><span class="nav-label">Feed</span></a>
            <a href="profile.html" class="nav-item"><span class="nav-icon">ğŸ‘¤</span><span class="nav-label">Profile</span></a>
            <a href="instrument.html" class="nav-item"><span class="nav-icon">ğŸ¸</span><span class="nav-label">Instrument</span></a>
            <a href="hunt.html" class="nav-item"><span class="nav-icon">ğŸ”</span><span class="nav-label">Hunt</span></a>
        </nav>
    </div>

    <script src="theme.js"></script>
    <script src="feed.js" defer></script>
</body>
</html>
